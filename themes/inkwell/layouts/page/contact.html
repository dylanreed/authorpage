{{/* ABOUTME: Contact page layout with email and social links. */}}
{{/* ABOUTME: Displays the author's contact email and social media links from hugo.Data.site. */}}

{{ define "main" }}
<div class="container">
  <section class="contact">
    <h1 class="contact__title fade-in">{{ .Title }}</h1>

    {{ with hugo.Data.site }}

      {{/* Email */}}
      {{ with .contact_email }}
      <div class="contact__email fade-in-delayed">
        <p>Get in touch: <a href="mailto:{{ . }}">{{ . }}</a></p>
      </div>
      {{ end }}

      {{/* Social links */}}
      {{ with .social }}
      <div class="social-section fade-in-late">
        <p class="social-section__title">Or find me online</p>
        {{ partial "social-links.html" . }}
      </div>
      {{ end }}

    {{ else }}
      <p class="empty-state fade-in-delayed">Contact information coming soon.</p>
    {{ end }}

    {{/* Newsletter CTA â€” only renders if newsletter_action is set in site.yaml */}}
    {{ with hugo.Data.site.newsletter_action }}
    <div class="newsletter-cta fade-in-late">
      <h2 class="newsletter-cta__heading">Stay in Touch</h2>
      <p class="newsletter-cta__text">New book announcements and occasional musings, delivered to your inbox.</p>
      <form class="newsletter-form" action="{{ . }}" method="post">
        <input type="email" name="email" placeholder="your@email.com" class="newsletter-form__input" aria-label="Email address for newsletter" required>
        <button class="newsletter-form__btn" type="submit">Subscribe</button>
      </form>
    </div>
    {{ end }}
  </section>
</div>
{{ end }}
