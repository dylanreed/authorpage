{{/* ABOUTME: Contact page layout with email and social links in dark monospace aesthetic. */}}
{{/* ABOUTME: Displays the author's contact email and social media links from hugo.Data.site. */}}

{{ define "main" }}
<div class="container">
  <section class="contact">
    <h1 class="contact__title">{{ .Title }}</h1>
    <div class="venetian-divider" aria-hidden="true"></div>

    {{ with hugo.Data.site }}

      {{/* Email */}}
      {{ with .contact_email }}
      <div class="contact__email">
        <p>// Inquiries: <a href="mailto:{{ . }}">{{ . }}</a></p>
      </div>
      {{ end }}

      {{/* Social links */}}
      {{ with .social }}
      <div class="social-section">
        <p class="social-section__title">// Or find me online //</p>
        {{ partial "social-links.html" . }}
      </div>
      {{ end }}

    {{ else }}
      <p class="empty-state">Contact information coming soon.</p>
    {{ end }}

    {{/* Newsletter CTA â€” only renders if newsletter_action is set in site.yaml */}}
    {{ with hugo.Data.site.newsletter_action }}
    <div class="newsletter-cta">
      <div class="venetian-divider" aria-hidden="true"></div>
      <p class="newsletter-cta__heading">// Dispatches //</p>
      <p class="newsletter-cta__text">New case files and classified updates, delivered by wire.</p>
      <form class="newsletter-form" action="{{ . }}" method="post">
        <input type="email" name="email" placeholder="your@email.com" class="newsletter-form__input" aria-label="Email address for newsletter" required>
        <button class="newsletter-form__btn" type="submit">Subscribe</button>
      </form>
    </div>
    {{ end }}
  </section>
</div>
{{ end }}
